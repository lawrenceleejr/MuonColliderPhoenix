<html>

  <head>
    <script src="https://unpkg.com/three@0.139.1/build/three.js"> </script>
    <script src="https://unpkg.com/three@0.139.1/examples/js/exporters/GLTFExporter.js"> </script>
    <script src="https://root.cern/js/latest/scripts/JSRoot.core.js"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.js"></script>
  </head>

<body>
  <script type="module">
    
    import { convertGeometry } from './phoenixExport.js';

    var hide_children = [

        // // Drop Rich1 DetSupFrame and QuadrantModule
        // "_dd_Geometry_BeforeMagnetRegion_Rich1_lvRich1PhDetSupFrame",
        // "_dd_Geometry_BeforeMagnetRegion_Rich1_lvRich1Mirror1QuadrantModule",
        
        // // Drop UT Staves
        // "_dd_Geometry_BeforeMagnetRegion_UT_Staves",
    
        // // Drop FT modules and frames
        // "_dd_Geometry_AfterMagnetRegion_T_FT_Modules",
        // "_dd_Geometry_AfterMagnetRegion_T_FT_CFrames",

        // // Drop Rich2 Modules
        // "_dd_Geometry_BeforeMagnetRegion_Rich1_Rich2StdPmtModule",
        // "_dd_Geometry_BeforeMagnetRegion_Rich1_Rich2GrandPmtModule",
        
        // // Drop Ecal Blocks
        // "_dd_Geometry_DownstreamRegion_Ecal_Installation_InnBlock",
        // "_dd_Geometry_DownstreamRegion_Ecal_Installation_MidBlock",
        // "_dd_Geometry_DownstreamRegion_Ecal_Installation_OutBlock",

        // // Drop Hcal modules
        // "_dd_Geometry_DownstreamRegion_Hcal_Installation_lvHcalInnHalfModule",
        // "_dd_Geometry_DownstreamRegion_Hcal_Installation_lvHcalOutHalfModule",
        // "_dd_Geometry_DownstreamRegion_Hcal_Installation_lvHcalInnMidlHalfModule",
        
        // // Drop Muon Chambers
        // "_dd_Geometry_DownstreamRegion_Muon_M2",
        // "_dd_Geometry_DownstreamRegion_Muon_M3",
        // "_dd_Geometry_DownstreamRegion_Muon_M4",
        // "_dd_Geometry_DownstreamRegion_Muon_M5",

    ];

    // for each level of hierarchy in the phoenix menu, tell which parts of the geometry to
    // use and whether they are initially visible or not.
    var subparts = {
        "Muon > YokeBarrel" : [["default/world_volume/YokeBarrel_envelope_14" ],
                          true],
        // "Muon > Filter" : [["_dd_Geometry_DownstreamRegion_Muon_lvMuonBack_pvMuFilter"], .3],

    }

    convertGeometry("./MuColl_10TeV_v0A.root", "MuColl_10TeV_v0A.gltf", 10, subparts, hide_children);

  </script>
</body>
